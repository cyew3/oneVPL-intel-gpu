<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ImportGroup Label="PropertySheets" />
  <PropertyGroup Label="UserMacros" />
  <PropertyGroup Condition="'$(Configuration)'=='Release_THM' or '$(Configuration)'=='Debug_THM'">
    <PlatformToolset>v120</PlatformToolset>
  </PropertyGroup>
  <PropertyGroup>
    <WindowsSdk8Path Condition="Exists('$(MINIDDK_ROOT)')">$(MINIDDK_ROOT)</WindowsSdk8Path>
    <WindowsSdk8Path Condition="!Exists('$(MINIDDK_ROOT)')">$(registry:HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SDKs\Windows\v8.1@InstallationFolder)</WindowsSdk8Path>
    <Library_Miniddk_Version>$([MSBuild]::ValueOrDefault(`$(MINIDDK_VERSION)`, `winv6.3`))</Library_Miniddk_Version>
    <IncludePath>$(WindowsSdk8Path)\Include\$(MINIDDK_VERSION)\um;$(WindowsSdk8Path)\Include\$(MINIDDK_VERSION)\shared;$(IncludePath)</IncludePath>
    <_ProjectFileVersion>10.0.40219.1</_ProjectFileVersion>
    <OutDir>
    </OutDir>
    <IntDir>
    </IntDir>
  </PropertyGroup>
  <PropertyGroup Label="UserMacros" Condition="'$(Platform)'=='Win32'">
    <LibraryPath>$(WindowsSdk8Path)\Lib\$(Library_Miniddk_Version)\um\x86;$(WindowsSdk8Path)\Lib\win8\um\x86;$(LibraryPath)</LibraryPath>
  </PropertyGroup>
  <PropertyGroup Label="UserMacros" Condition="'$(Platform)'=='x64'">
    <LibraryPath>$(WindowsSdk8Path)\Lib\$(Library_Miniddk_Version)\um\x64;$(WindowsSdk8Path)\Lib\win8\um\x86;$(LibraryPath)</LibraryPath>
  </PropertyGroup>
  <Target Name="Win8SdkCheck" BeforeTargets="Build">
    <Error Text=" Unable to find Windows SDK 8.1 by both MINIDDK_ROOT and registry lookup. Please check if it installed correctly or reinstall it from http://msdn.microsoft.com/en-us/windows/desktop/hh852363.aspx." Condition="!Exists('$(WindowsSdk8Path)')" />
  </Target>
  <ItemDefinitionGroup>
    <ClCompile>
      <AdditionalIncludeDirectories>include;$(SolutionDir)..\dxva2_dump\include;$(SolutionDir)..\mfx_transcoder\include;$(SolutionDir)..\mfx_player\include;$(SolutionDir)..\..\_studio\shared\include;$(SolutionDir)..\..\_studio\shared\umc\core\vm\include;$(SolutionDir)..\..\_studio\shared\umc\core\vm_plus\include;$(SolutionDir)..\..\_studio\shared\umc\codec\color_space_converter\include;$(SolutionDir)..\..\_studio\shared\umc\core\umc\include;$(SolutionDir)..\..\_studio\shared\umc\codec\mpeg4_spl\include;$(SolutionDir)..\..\_studio\shared\umc\codec\avi_spl\include;$(SolutionDir)..\..\_studio\shared\umc\codec\demuxer\include;$(SolutionDir)..\..\_studio\shared\umc\codec\asf_spl\include;$(SolutionDir)..\..\_studio\shared\umc\codec\mpeg2_spl\include;$(SolutionDir)..\..\_studio\shared\umc\io\media_buffers\include;$(SolutionDir)..\..\_studio\shared\umc\codec\spl_common\include;$(SolutionDir)..\..\_studio\shared\umc\io\umc_io\include;$(SolutionDir)..\shared\include;$(MSDK_API_ROOT)\include;$(MSDK_API_ROOT)\opensource\mfx_dispatch\include\;$(SolutionDir)..\..\_studio\shared\umc\test_suite\spy_test_component\include;$(SolutionDir)..\..\samples\deprecated\sample_spl_mux\api;$(SolutionDir)../../pavp/include;$(SolutionDir)../../pavp/samples/pavp_sample_common;$(SolutionDir)../../pavp/samples/pavp_video/pavp_video_lib;$(SolutionDir)../../pavp/samples/win8ui_video/win8ui_video_lib;$(SolutionDir)..\mfx_pavp;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
      <PreprocessorDefinitions>MFX_VA;_CONSOLE;PSAPI_VERSION=1;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <ExceptionHandling>Async</ExceptionHandling>
      <BasicRuntimeChecks>Default</BasicRuntimeChecks>
      <WarningLevel>Level4</WarningLevel>
    </ClCompile>
    <Link>
      <AdditionalDependencies>bcrypt.lib; ippcoremt.lib; ippccmt.lib; ippcpmt.lib; ippdcmt.lib; ippmsdkmt.lib; ippimt.lib; ippsmt.lib; ippsrmt.lib; ippvcmt.lib; ippjmt.lib; ippcvmt.lib; %(AdditionalDependencies)</AdditionalDependencies>
    </Link>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)'!='Release_THM' and '$(Configuration)'!='Debug_THM'">
    <Link>
      <AdditionalDependencies>winmm.lib; psapi.lib; %(AdditionalDependencies)</AdditionalDependencies>
    </Link>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)'=='Release_THM' or '$(Configuration)'=='Debug_THM'">
    <ClCompile>
      <PreprocessorDefinitions>WIN_TRESHOLD_MOBILE;_ATL_NO_WIN_SUPPORT;%(PreprocessorDefinitions)</PreprocessorDefinitions>
    </ClCompile>
    <Link>
      <AdditionalDependencies>onecore.lib;%(AdditionalDependencies)</AdditionalDependencies>
      <IgnoreSpecificDefaultLibraries>winmm.lib; psapi.lib;;%(IgnoreSpecificDefaultLibraries)</IgnoreSpecificDefaultLibraries>
    </Link>
  </ItemDefinitionGroup>
  <!-- end of threshold specific settings -->
</Project>